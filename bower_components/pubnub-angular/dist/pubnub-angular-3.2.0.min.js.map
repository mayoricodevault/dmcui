{"version":3,"sources":["pubnub-angular.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","config","Wrapper","angular","factory","$rootScope","isDefined","PUBNUB","Error","service","wrappers","init","initConfig","getInstance","default_instance_name","instanceName","instance","length","methods_to_delegate","forEach","method","wrapMethod","args","this","getEventNameFor","methodName","callbackName","pubnub_prefix","join","getMessageEventNameFor","channelName","getPresenceEventNameFor","subscribe","common_callbacks_to_wrap","subscribe_callbacks_to_wrap","_classCallCheck","Constructor","TypeError","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","Mocks","_class","label","mockingInstance","pubnubInstance","value","callbacks","getCallbacksToMock","mockCallbacks","getLabel","getOriginalInstance","ReferenceError","_this","isObject","argsValue","initialCallbackNames","triggerEventsValue","triggerEvents","result","indexOf","push","object","callbacksList","l","originalCallbacks","currentCallbackName","$broadcast","bind","apply","concat","Array","slice","arguments","isFunction","pubnubConfig","Pubnub","$q","PubnubChannel","channel","autosubscribe","presence","autostore","self","_channel","$messages","_timeTokenFirstMessage","_messagesAllFetched","_pubnubInstance","_autoload","autoload","_presence","_autosubscribe","_autostore","$$getPublicMethods","fn","_unsubscribeHandler","$load","eventsToTrigger","eventName","$on","$$newMessage","numberOfMessages","deferred","defer","count","reverse","callback","$$storeBatch","resolve","$digest","error","err","reject","start","history","promise","$publish","_message","publish","message","$pubnubInstance","$channel","$allLoaded","$destroy","ngEvent","$$store","messages","extend","unshift","iterator","context","$$getPrototypeMethods","k","charAt","methods","objProto","getPrototypeOf","proto","hasOwnProperty","$extend","$pubnubChannel","PubnubChannelGroup","channelGroup","_config","channelExtension","_channelGroup","$channels","_extendedChannel","channel_group","options","newChannel","$channelGroup","env"],"mappings":"CACS,SAAUA,GAKT,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUE,OAGnC,IAAIC,GAASF,EAAiBD,IAC7BE,WACAE,GAAIJ,EACJK,QAAQ,EAUT,OANAP,GAAQE,GAAUM,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASH;AAG/DI,EAAOE,QAAS,EAGTF,EAAOD,QAvBf,GAAID,KAqCJ,OATAF,GAAoBQ,EAAIT,EAGxBC,EAAoBS,EAAIP,EAGxBF,EAAoBU,EAAI,GAGjBV,EAAoB,KAK/B,SAASI,EAAQD,EAASH,GAE/B,YAEAA,GAAoB,GACpBA,EAAoB,GACpBA,EAAoB,IAIf,SAASI,EAAQD,EAASH;AAE/B,YAIA,IAAIW,GAASX,EAAoB,GAC7BY,EAAUZ,EAAoB,EAElCa,SAAQT,OAAO,6BAA8BU,QAAQ,UAAW,aAAc,SAAUC,GACtF,IAAKF,QAAQG,UAAUC,QACrB,KAAM,IAAIC,OAAM;AAGlB,GAAIC,MACAC,IAyFJ,OAlFAD,GAAQE,KAAO,SAAUC,GACvB,MAAOH,GAAQI,YAAYZ,EAAOa,uBAAuBH,KAAKC,IAShEH,EAAQI,YAAc,SAAUE;AAC9B,GAAIC,GAAWN,EAASK,EAExB,OAAIZ,SAAQG,UAAUU,IAAaA,YAAoBd,GAC9Cc,EAC0B,gBAAjBD,IAA6BA,EAAaE,OAAS,GACnEP,EAASK,GAAgB,GAAIb,GAAQa,EAAcN,EAASJ,GAG5DJ,EAAOiB,oBAAoBC,QAAQ,SAAUC;AAC3CV,EAASK,GAAcM,WAAWD,GAElCX,EAAQW,GAAU,SAAUE,GAC1B,MAAOC,MAAKV,YAAYZ,EAAOa,uBAAuBM,GAAQE,MAI3DZ,EAASK,IAGXC,GAWTP,EAAQe,gBAAkB,SAAUC,EAAYC,EAAcX;AAG5D,MAFKA,KAAcA,EAAed,EAAOa,wBAEjCb,EAAO0B,cAAeZ,EAAcU,EAAYC,GAAcE,KAAK,MAU7EnB,EAAQoB,uBAAyB,SAAUC,EAAaf,GAGtD,MAFKA,KAAcA,EAAed,EAAOa;CAEjCb,EAAO0B,cAAeZ,EAAc,YAAa,WAAYe,GAAaF,KAAK,MAUzFnB,EAAQsB,wBAA0B,SAAUD,EAAaf,GAGvD,MAFKA,KAAcA,EAAed,EAAOa;CAEjCb,EAAO0B,cAAeZ,EAAc,YAAa,WAAYe,GAAaF,KAAK,MAQzFnB,EAAQuB,UAAY,SAAUV,GAC5BC,KAAKV,YAAYZ,EAAOa,uBAAuBkB,UAAUV;EAGpDb,MAKJ,SAASf,EAAQD,GAEtBC,EAAOD,SACNkC,cAAiB,SACjBb,sBAAyB,UACzBI,qBACC,UACA,SACA,UACA,cACA,WACA,QACA,SACA,QACA,OACA,YACA,QACA,gBACA,8BACA,4BACA,gCACA,+BACA,6BACA,iCACA,4BACA,sBACA,WACA,WACA,OACA,OACA,iBACA,iBACA,cACA,cACA,gBACA,gBACA,yBACA,yBACA;AAEDe,0BACC,WACA,SAEDC,6BACC,WACA,UACA,YACA,aACA,QACA,OACA;GAMG,SAASxC,EAAQD,EAASH,GAE/B,YAIA,SAAS6C,GAAgBnB,EAAUoB,GAAe,KAAMpB,YAAoBoB,IAAgB,KAAM,IAAIC,WAAU;CAFhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAMxB,OAAQyB,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe;AAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeR,EAAQG,EAAWM,IAAKN,IAAiB,MAAO,UAAUP,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYX,EAAiBH,EAAYgB,UAAWF,GAAiBC,GAAaZ,EAAiBH,EAAae;AAAqBf,MAM5hBnC,EAASX,EAAoB,GAC7B+D,EAAQ/D,EAAoB,EAEhCI,GAAOD,QAAU,WACf,QAAS6D,GAAOC,EAAO9C,EAASJ,GAC9B8B,EAAgBZ,KAAM+B,GAEtB/B,KAAKgC,MAAQA,EACbhC,KAAKiC,gBAAkB,GAAIH,GAAME,EAAO9C,EAASJ,GACjDkB,KAAKkC,eAAiB;CA8CxB,MA3CAnB,GAAagB,IACXL,IAAK,OACLS,MAAO,SAAc9C,GACnBW,KAAKkC,eAAiB,GAAIlD,QAAOK,MAGnCqC,IAAK,WACLS,MAAO,WACL,MAAOnC,MAAKgC;IAGdN,IAAK,YACLS,MAAO,SAAmBpC,GACxB,GAAIqC,GAAYpC,KAAKiC,gBAAgBI,mBAAmBtC,EAAMrB,EAAOiC,4BACrEX,MAAKiC,gBAAgBK,cAActC,KAAKuC,WAAY,YAAaxC,EAAMqC;AAEvEpC,KAAKwC,sBAAsB/B,UAAUV,MAGvC2B,IAAK,sBACLS,MAAO,WACL,GAAInC,KAAKkC,eACP,MAAOlC,MAAKkC;AAEZ,KAAM,IAAIO,gBAAe,mFAI7Bf,IAAK;AACLS,MAAO,SAAoBjC,GACzB,GAAIwC,GAAQ1C,IAEZA,MAAKE,GAAc,SAAUH,GAC3B,GAAInB,QAAQ+D,SAAS5C,GAAO,CAC1B,GAAIqC,GAAYM,EAAMT,gBAAgBI,mBAAmBtC,EAAMrB,EAAOgC;AACtEgC,EAAMT,gBAAgBK,cAAcI,EAAMH,WAAYrC,EAAYH,EAAMqC,GAG1E,MAAOM,GAAMF,sBAAsBtC,GAAYH,QAK9CgC,MAKJ,SAAS5D,EAAQD,GAEtB;AAIA,QAAS0C,GAAgBnB,EAAUoB,GAAe,KAAMpB,YAAoBoB,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC;AAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAMxB,OAAQyB,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeR,EAAQG,EAAWM,IAAKN;EAAiB,MAAO,UAAUP,EAAac,EAAYC,GAAiJ,MAA9HD,IAAYX,EAAiBH,EAAYgB,UAAWF,GAAiBC,GAAaZ,EAAiBH,EAAae,GAAqBf,KAKhiB1C,GAAOD,QAAU,WACf,QAAS6D,GAAOC,EAAO9C,EAASJ,GAC9B8B,EAAgBZ,KAAM+B,GAEtB/B,KAAKgC,MAAQA;AACbhC,KAAKlB,WAAaA,EAClBkB,KAAKd,QAAUA,EA4FjB,MAhFA6B,GAAagB,IACXL,IAAK,qBACLS,MAAO,SAA4BS,EAAWC,GAC5C,GAAIC,GAAqBF,EAAUG,cAC/BC,KACAtD,EAAS,OACTyC,EAAQ,OACRhB,EAAI;AAER,GAAI2B,KAAuB,EACzB,MAAOD,EACF,IAAIjE,QAAQ+D,SAASG,GAAqB,CAG/C,IAFApD,EAASoD,EAAmBpD,OAEvByB,EAAI,EAAOzB,EAAJyB,EAAYA,IACtBgB,EAAQW,EAAmB3B,GACvB0B,EAAqBI,QAAQd,IAAU,GAAGa,EAAOE,KAAKf,EAG5D,OAAOa,GAEP;IAcJtB,IAAK,gBACLS,MAAO,SAAuB3C,EAAcU,EAAYiD,EAAQC,GAC9D,GAAIC,GAAID,EAAc1D,OAClB4D,KACAC,EAAsB,OACtBzE,EAAakB,KAAKlB,WAClBI,EAAUc,KAAKd,QACfiC,EAAI,MAER,KAAKA,EAAI,EAAOkC,EAAJlC,EAAOA,IAAK;AAGtB,GAFAoC,EAAsBH,EAAcjC,IAE/BvC,QAAQ+D,SAASQ,GACpB,MAGFG,GAAkBC,GAAuBJ,EAAOI,GAEhD,SAAWpD,GACTgD,EAAOI,GAAuB,WAQ5B,GAPAzE,EAAW0E,WAAWC,KAAKC,MAAM5E,EAAW0E,YAAa1E,EAAYI,EAAQe,gBAAgBC,EAAYC,EAAcX,IAAemE,OAAOC,MAAM/B,UAAUgC,MAAMvF,KAAKwF;AAEpK3D,IAAgBmD,IAAqB1E,QAAQmF,WAAWT,EAAkBnD,KAC5EmD,EAAkBnD,GAAcuD,MAAM,KAAMI,WAI3B,cAAf5D,EACF,OAAQC,GACN,IAAK,WACHrB,EAAW0E,WAAWC,KAAKC,MAAM5E,EAAW0E,YAAa1E,EAAYI,EAAQoB,uBAAuBwD,UAAU,GAAItE,IAAemE,OAAOC,MAAM/B,UAAUgC,MAAMvF,KAAKwF;AACnK,KACF,KAAK,WACHhF,EAAW0E,WAAWC,KAAKC,MAAM5E,EAAW0E,YAAa1E,EAAYI,EAAQsB,wBAAwBsD,UAAU,GAAItE,IAAemE,OAAOC,MAAM/B,UAAUgC,MAAMvF,KAAKwF;IAO3KP,QAKFxB,MAKJ,SAAS5D,EAAQD,EAASH,GAE/B,YAEA,IAAIiG,GAAejG,EAAoB,EAEvCa,SAAQT,OAAO,0BAA0BU,QAAQ,kBAAmB,aAAc,SAAU,KAAM,SAAUC,EAAYmF,EAAQC;AAkB9H,QAASC,GAAcC,EAAS1F,GAE9B,KAAMsB,eAAgBmE,IACpB,MAAO,IAAIA,GAAcC,EAAS1F,EAKpC,IAFAA,EAASA,OAEJ0F,EACH,KAAM,IAAInF,OAAM,+BAGlB,IAAIP,EAAO2F,eAAmD,iBAAzB3F,GAAO2F,cAC1C,KAAM,IAAIpF,OAAM;AAGlB,GAAIP,EAAO4F,UAAyC,iBAApB5F,GAAO4F,SACrC,KAAM,IAAIrF,OAAM,6CAGlB,IAAIP,EAAO6F,WAA2C,iBAArB7F,GAAO6F,UACtC,KAAM,IAAItF,OAAM;AAGlB,GAAIuF,GAAOxE,IAEXA,MAAKyE,SAAWL,EAEhBpE,KAAK0E,aAGL1E,KAAK2E,uBAAyB,KAE9B3E,KAAK4E,qBAAsB,EAE3B5E,KAAK6E,gBAAkBnG,EAAOe,SAAWwE,EAAO3E,YAAYZ,EAAOe,UAAYwE,EAAO3E,YAAY0E,EAAazE;AAE/GS,KAAK8E,UAA+B,MAAnBpG,EAAOqG,SAAmB,EAAIrG,EAAOqG,SAEtD/E,KAAKgF,UAA+B,MAAnBtG,EAAO4F,UAAmB,EAAQ5F,EAAO4F,SAE1DtE,KAAKiF,eAAyC,MAAxBvG,EAAO2F,eAAwB,EAAO3F,EAAO2F;AAEnErE,KAAKkF,WAAiC,MAApBxG,EAAO6F,WAAoB,EAAO7F,EAAO6F,UAG3DvE,KAAKmF,mBAAmB,SAAUC,EAAI1D,GACpC8C,EAAKE,UAAUhD,GAAO0D,EAAG3B,KAAKe,KAIhCxE,KAAKqF,oBAAsB;AAGJ,IAAnBrF,KAAK8E,WACP9E,KAAKsF,MAAMtF,KAAK8E,UAGlB,IAAIS,IAAmB,WAAY,UAAW,YAAa,aAAc,QAAS,OAclF,IAZIvF,KAAKgF,WACPO,EAAgBrC,KAAK;AAGnBlD,KAAKiF,gBACPjF,KAAK6E,gBAAgBpE,WACnB2D,QAASpE,KAAKyE,SACd1B,cAAewC,IAKfvF,KAAKkF,WAAY,CACnB,GAAIM,GAAYvB,EAAO3D,uBAAuBkE,EAAKC,SAAUzE,KAAK6E,gBAAgB7C;AAClFhC,KAAKqF,oBAAsBvG,EAAW2G,IAAID,EAAWhB,EAAKkB,aAAajC,KAAKe,IAG9E,MAAOxE,MAAK0E,UAmMd,MAhMAP,GAActC,WAQZyD,MAAO,SAAeK,GACpB,KAAMA,EAAmB,GAAyB,KAApBA,GAC5B,KAAM,IAAI1G,OAAM;AAGlB,GAAIuF,GAAOxE,KACP4F,EAAW1B,EAAG2B,QAEd9F,GACFqE,QAASI,EAAKC,SACdqB,MAAOH,EACPI,SAAS,EACTC,SAAU,SAAkBzH,GAE1BiG,EAAKG,uBAAyBpG,EAAE,GAEhCiG,EAAKyB,aAAa1H,EAAE;AAGhBA,EAAE,GAAGmB,OAASiG,IAChBnB,EAAKI,qBAAsB,GAG7BgB,EAASM,QAAQ3H,GACjBO,EAAWqH,WAEbC,MAAO,SAAeC,GACpBT,EAASU,OAAOD,IAUpB,OALI7B,GAAKG,yBACP5E,EAAKwG,MAAQ/B,EAAKG;AAGpBH,EAAKK,gBAAgB2B,QAAQzG,GACtB6F,EAASa,SASlBC,SAAU,SAAkBC,GAC1B,GAAInC,GAAOxE,KACP4F,EAAW1B,EAAG2B,OAYlB,OAXArB,GAAKK,gBAAgB+B,SACnBxC,QAASI,EAAKC;AACdoC,QAASF,EACTX,SAAU,SAAkBzH,GAC1BqH,EAASM,QAAQ3H,IAEnB6H,MAAO,SAAeC,GACpBT,EAASU,OAAOD,MAIbT,EAASa,SAQlBK,gBAAiB,WACf,MAAO9G,MAAK6E;EAQdkC,SAAU,WACR,MAAO/G,MAAKyE,UAQduC,WAAY,WACV,MAAOhH,MAAK4E,qBAQdqC,SAAU,WACJjH,KAAKqF,qBACPrF,KAAKqF;AAEPrF,KAAK0E,UAAUhF,OAAS,GAQ1BgG,aAAc,SAAsBwB,EAAS3I,GAC3CyB,KAAKmH,QAAQ5I,GACbO,EAAWqH,WAQbgB,QAAS,SAAiBN,GACxB7G,KAAK0E,UAAUxB,KAAK2D;EAQtBZ,aAAc,SAAsBmB,GAEJ,IAA1BpH,KAAK0E,UAAUhF,OACjBd,QAAQyI,OAAOrH,KAAK0E,UAAW0C,GAE/BxD,MAAM/B,UAAUyF,QAAQ5D,MAAM1D,KAAK0E,UAAW0C;EAWlDjC,mBAAoB,SAA4BoC,EAAUC,GACxDxH,KAAKyH,sBAAsB,SAAUlJ,EAAGmJ,GACrB,kBAANnJ,IAAoC,MAAhBmJ,EAAEC,OAAO,IACtCJ,EAASjJ,KAAKkJ,EAASjJ,EAAGmJ;IAQhCD,sBAAuB,SAA+BF,EAAUC,GAI9D,IAHA,GAAII,MACAC,EAAWrG,OAAOsG,mBAClBC,EAAQnJ,QAAQmF,WAAW/D,OAASpB,QAAQ+D,SAAS3C,KAAK6B,WAAa7B,KAAK6B,UAAYL,OAAOsG,eAAe9H,MAC3G+H,GAASA,IAAUF,GAAU;AAClC,IAAK,GAAInG,KAAOqG,GACVA,EAAMC,eAAetG,KAASkG,EAAQI,eAAetG,KACvDkG,EAAQlG,IAAO,EACf6F,EAASjJ,KAAKkJ,EAASO,EAAMrG,GAAMA,EAAKqG,GAG5CA,GAAQvG,OAAOsG,eAAeC,MAapC5D,EAAc8D,QAAU,SAAUL;AAIhC,MAHIhJ,SAAQ+D,SAASiF,IACnBhJ,QAAQyI,OAAOlD,EAActC,UAAW+F,GAEnCzD,GAGFA,MAKJ,SAAShG,EAAQD,EAASH,GAE/B,YAEA,IAAIiG,GAAejG,EAAoB,EAEvCa,SAAQT,OAAO,0BAA0BU,QAAQ,uBAAwB,aAAc,KAAM,SAAU,iBAAkB,SAAUC,EAAYoF,EAAID,EAAQiE;AAkBzJ,QAASC,GAAmBC,EAAcC,GAExC,KAAMrI,eAAgBmI,IACpB,MAAO,IAAIA,GAAmBC,EAAcC,EAG9C,IAAI7D,GAAOxE,KACPtB,EAAS2J,KAEb,KAAKD,EACH,KAAM,IAAInJ,OAAM;AAIlB,GAAIP,EAAO2F,eAAmD,iBAAzB3F,GAAO2F,cAC1C,KAAM,IAAIpF,OAAM,kDAGlB,IAAIP,EAAO4F,UAAyC,iBAApB5F,GAAO4F,SACrC,KAAM,IAAIrF,OAAM;AAGlB,GAAIP,EAAO4J,mBAAqB1J,QAAQ+D,SAASjE,EAAO4J,kBACtD,KAAM,IAAIrJ,OAAM,2CAGlBe,MAAKuI,cAAgBH;AAErBpI,KAAKwI,aAELxI,KAAK6E,gBAAkBnG,EAAOe,SAAWwE,EAAO3E,YAAYZ,EAAOe,UAAYwE,EAAO3E,YAAY0E,EAAazE,uBAE/GS,KAAKgF,UAA+B,MAAnBtG,EAAO4F,UAAmB,EAAQ5F,EAAO4F;AAE1DtE,KAAKiF,eAAyC,MAAxBvG,EAAO2F,eAAwB,EAAO3F,EAAO2F,cAEnErE,KAAKyI,iBAAmBP,EAAeD,QAAQvJ,EAAO4J,kBAEtDtI,KAAKqF,oBAAsB;AAE3B,GAAIE,IAAmB,WAAY,UAAW,YAAa,aAAc,QAAS,OAE9EvF,MAAKgF,WACPO,EAAgBrC,KAAK,YAGnBlD,KAAKiF,gBACPjF,KAAK6E,gBAAgBpE;AACnBiI,cAAe1I,KAAKuI,cACpBxF,cAAewC,GAKnB,IAAIC,GAAYvB,EAAO3D,uBAAuBkE,EAAK+D,cAAe/D,EAAKK,gBAAgB7C;AAGvF,MAFAhC,MAAKqF,oBAAsBvG,EAAW2G,IAAID,EAAWhB,EAAKkB,aAAajC,KAAKe,IAErExE,KAsET,MAnEAmI,GAAmBtG,WAOjBkF,SAAU,SAAkB3C,GAC1B,IAAKxF,QAAQG,UAAUiB,KAAKwI,UAAUpE,IAAW;AAC/C,GAAIuE,IACFlJ,SAAUO,KAAK6E,gBAAgB7C,MAC/BqC,eAAe,EACfC,UAAU,EACVC,WAAW,GAETqE,EAAa5I,KAAKyI,iBAAmB,GAAIzI,MAAKyI,iBAAiBrE,EAASuE,GAAWT,EAAe9D,EAASuE;AAC/G3I,KAAKwI,UAAUpE,GAAWwE,EAG5B,MAAO5I,MAAKwI,UAAUpE,IAQxB0C,gBAAiB,WACf,MAAO9G,MAAK6E,iBAQdgE,cAAe;AACb,MAAO7I,MAAKuI,eAQdtB,SAAU,WACRjH,KAAKqF,qBAEL,KAAK,GAAIjB,KAAWpE,MAAKwI,UACnBxI,KAAKwI,UAAUR,eAAe5D,UACzBpE,MAAKwI,UAAUpE;EAW5BsB,aAAc,SAAsBwB,EAASL,EAASiC,GACpD,GAAI1E,GAAU0E,EAAI,EAClB9I,MAAK+G,SAAS3C,GAASsB,aAAawB,EAASL,EAASiC,KAInDX","file":"pubnub-angular.min.js"}